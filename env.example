# =============================================================================
# .env.example — BookingScraper Pro
# =============================================================================
# COPIA ESTE ARCHIVO a .env y rellena los valores reales.
# NUNCA hagas commit de .env con credenciales reales a Git.
#
# Generar SECRET_KEY segura:
#   python -c "import secrets; print(secrets.token_hex(32))"
# =============================================================================

# =============================================================================
# CONFIGURACIÓN - Booking Scraper Pro para Windows 11 Nativo
# =============================================================================
# Sin Docker | Sin WSL2 | 100% Windows

# =============================================================================
# BASE DE DATOS POSTGRESQL (LOCAL)
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=booking_scraper
DB_USER=postgres
DB_PASSWORD=CAMBIAR_POR_TU_PASSWORD

# =============================================================================
# REDIS (LOCAL - Memurai o Redis para Windows)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# CELERY
# =============================================================================
# URLs de conexión
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# Workers
CELERY_WORKER_CONCURRENCY=8
CELERY_WORKER_POOL=solo

# IMPORTANTE para Windows: Siempre usar pool 'solo'
# No usar 'prefork' (no funciona en Windows)

# =============================================================================
# VPN (NordVPN para Windows)
# =============================================================================
VPN_ENABLED=true
VPN_METHOD=windows_app
# Opciones: windows_app, cli, manual
# - windows_app: Usa la aplicación de escritorio (requiere conexión manual)
# - cli: Usa NordVPN CLI si está instalado
# - manual: Guía para conexión manual

VPN_ROTATION_INTERVAL=50
# Rotar VPN cada N requests

VPN_COUNTRIES=["US","UK","DE","FR","NL","ES","IT","CA"]
# Países para rotación (códigos ISO)

# =============================================================================
# SCRAPING
# =============================================================================
# Navegador
USE_SELENIUM=True
HEADLESS_BROWSER=false
BROWSER_TIMEOUT=30

# Delays (en segundos)
MIN_REQUEST_DELAY=2.0
MAX_REQUEST_DELAY=5.0

# Reintentos
MAX_RETRIES=3
RETRY_DELAY=60

# Paginación
SCROLL_ITERATIONS=3

# =============================================================================
# IDIOMAS
# =============================================================================
# Idiomas a procesar (separados por coma)
LANGUAGES_ENABLED=en,es,de,fr,it
# Disponibles: en,es,de,fr,it,pt,ru,ar,tr,hu,pl,nl,no,fi,sv,da,ja,zh,ko

DEFAULT_LANGUAGE=en

# =============================================================================
# RUTAS (WINDOWS - Usar rutas absolutas)
# =============================================================================
BASE_DATA_PATH=C:\BookingScraper\data
IMAGES_PATH=C:\BookingScraper\data\images
EXPORTS_PATH=C:\BookingScraper\data\exports
LOGS_PATH=C:\BookingScraper\data\logs

# =============================================================================
# IMÁGENES
# =============================================================================
DOWNLOAD_IMAGES=true
IMAGE_MAX_WORKERS=5
IMAGE_QUALITY=85
IMAGE_MAX_WIDTH=1920
IMAGE_MAX_HEIGHT=1080

# =============================================================================
# BATCH PROCESSING
# =============================================================================
BATCH_SIZE=10
MAX_CONCURRENT_TASKS=20

# =============================================================================
# APLICACIÓN
# =============================================================================
DEBUG=false
LOG_LEVEL=INFO
APP_PORT=8000

# =============================================================================
# CHROMEDRIVER
# =============================================================================
# ChromeDriver se descarga automáticamente con webdriver-manager
# Si quieres usar una ruta específica, descomenta y configura:
# CHROMEDRIVER_PATH=C:\chromedriver\chromedriver.exe

# =============================================================================
# SEGURIDAD
# =============================================================================
# Secret key para sesiones (generar con: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=GENERAR_CON_python_-c_"import_secrets;_print(secrets.token_hex(32))"

# API Key (opcional)
API_KEY=

# =============================================================================
# NOTIFICACIONES (Opcional)
# =============================================================================
# Email SMTP
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=

# Telegram (para alertas)
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# =============================================================================
# MONITORING (Opcional)
# =============================================================================
# Flower (Celery UI)
FLOWER_PORT=5555
FLOWER_USER=admin
FLOWER_PASSWORD=CAMBIAR_POR_CLAVE_SEGURA

# =============================================================================
# CONFIGURACIÓN WINDOWS ESPECÍFICA
# =============================================================================
# Codificación
PYTHONIOENCODING=utf-8

# Timezone
TZ=UTC

# =============================================================================
# NOTAS IMPORTANTES PARA WINDOWS 11
# =============================================================================
# 
# 1. RUTAS:
#    - Usar rutas absolutas de Windows (C:\...)
#    - Usar barras invertidas dobles (\\) o barras normales (/)
#    - Evitar espacios en los nombres de carpetas
#
# 2. CELERY:
#    - SIEMPRE usar pool='solo' en Windows
#    - No usar 'prefork' pool (solo funciona en Unix)
#    - Iniciar con: celery -A app.tasks.celery_app worker --pool=solo
#
# 3. POSTGRESQL:
#    - Instalar PostgreSQL 15 para Windows
#    - Puerto por defecto: 5432
#    - Servicio Windows debe estar corriendo
#
# 4. REDIS:
#    - Instalar Memurai (compatible Redis) o Redis para Windows
#    - Puerto por defecto: 6379
#    - Servicio Windows debe estar corriendo
#
# 5. VPN:
#    - NordVPN debe estar instalado
#    - Para 'windows_app': conectar manualmente antes de scrapear
#    - Para 'cli': requiere NordVPN CLI instalado
#
# 6. SERVICIOS WINDOWS:
#    - Usar NSSM para crear servicios de Celery y API
#    - Ver guía: IMPLEMENTACION_NATIVA_WINDOWS11.md
#
# 7. PERMISOS:
#    - Ejecutar PowerShell/CMD como Administrador para:
#      * Instalar servicios con NSSM
#      * Modificar servicios Windows
#      * Crear tareas programadas
#
# 8. FIREWALL:
#    - Agregar excepciones para:
#      * Python.exe
#      * PostgreSQL
#      * Redis/Memurai
#      * Puertos: 8000, 5432, 6379
#
# =============================================================================
